{"version":3,"sources":["webpack:///./Scripts/MainPage.tsx","webpack:///../locale-data/index.js (ignored)","webpack:///./lib/locales (ignored)","webpack:///./lib/locales (ignored)?d31c","webpack:///./Scripts/Components/Home.tsx","webpack:///./Scripts/Components/LessonsBox.tsx","webpack:///./Scripts/Components/LessonsEditor.tsx","webpack:///./Scripts/Components/ErrorBox.tsx","webpack:///./Scripts/Components/ReviewBox.tsx","webpack:///./Content/main.scss","webpack:///./Scripts/LocaleLoader.ts","webpack:///./Scripts/Models.ts","webpack:///./Scripts/Util.ts"],"names":[],"mappings":";;;;;;;;AAAA,qCAA+B;AAC/B,yCAAsC;AACtC,0CAAwC;AACxC,+CAAkC;AAClC,wCAAqC;AACrC,oCAAgD;AAEhD,IAAO,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;AAE7C,2CAAuC,CAAC,kBAAkB;AAE1D,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,GAAG,EAAE,SAAS;IAC1C,yBAAyB,KAAK;QAC1B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC;IACnE,CAAC;IAED,MAAM,UAAU,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW;QAC3C,sBAAsB,GAAG;YACrB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;QAC9D,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,EAAE,WAAW,CAAC,CAAC;IAC9E,CAAC,CAAC;IAEF,IAAI,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC;IAC7C,IAAI,IAAI,GAAG,SAAS,CAAC;IACrB,SAAS,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IAC5B,IAAI,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;IACnC,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC;QACzB,EAAE,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACjC,QAAQ,GAAG,UAAU,CAAC,QAAQ,EAAE,KAAK,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QACxF,CAAC;IACL,CAAC;IAED,IAAI,KAAK,GAAG,CAAC,CAAC,UAAU,QAAQ,UAAU,CAAC,CAAC;IAC5C,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAExB,QAAQ,CAAC,MAAM,CACX,oBAAC,YAAY,IAAC,MAAM,EAAE,sBAAI,CAAC,gBAAgB,EAAE,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY;QAC7E,oBAAC,cAAI,OAAE,CACI,EACf,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CACrC,CAAC;AACN,CAAC;AAED,IAAI,EAAE,GAAG,sBAAI,CAAC,UAAU,EAAE,CAAC;AAC3B,IAAI,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAC5D,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC;AAChD,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,MAAM,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC;;;;;;;;;AChDtF,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;ACAA,qCAA+B;AAC/B,6CAAiH;AACjH,8CAAsC;AACtC,4CAAkC;AAClC,gDAAyC;AACzC,yCAAiC;AAEjC,+CAAmC;AACnC,6CAAoC;AAEpC;IAAA;QACI,iBAAY,GAAW,CAAC,CAAC;QACzB,iBAAY,GAAW,CAAC,CAAC;QACzB,eAAU,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,oBAAe,GAAW,CAAC,CAAC;QAC5B,mBAAc,GAAW,CAAC,CAAC;QAC3B,SAAI,GAAG,IAAI,aAAI,EAAE,CAAC;IACtB,CAAC;CAAA;AAED;CAEC;AAED,UAAW,SAAQ,KAAK,CAAC,SAAmD;IACxE;QACI,KAAK,EAAE,CAAC;QAwCZ,YAAO,GACP,6BAAK,EAAE,EAAC,gBAAgB;YACpB;gBACI,6BAAK,GAAG,EAAC,gBAAgB,EAAC,GAAG,EAAC,QAAQ,GAAG;gBACzC,oBAAC,uBAAY,IAAC,IAAI,EAAC,iBAAiB,EAAC,KAAK,EAAC,SAAS,GAAG,CACrD,CACJ,CAAC;QA7CH,IAAI,CAAC,KAAK,GAAG,IAAI,SAAS,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,iBAAiB;QACb,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAChC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,EAAE,KAAK;YACJ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC;QACtD,MAAM,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,sBAAsB;IAChH,CAAC;IAED,SAAS;QACL,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,4BAA4B,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QACxG,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,4BAA4B,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QACxG,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,aAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACjG,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,+BAA+B,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAC9G,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,8BAA8B,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACxG,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,6BAA6B,EAAE,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAEtG,MAAM,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,OAAO,CAAC,CAAC;QACL,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE,MAAM;YAChC,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;QACpC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,UAA6B,EAAE,KAAkC,EAAE,WAAmB;YAC5F,EAAE,CAAC,CAAC,WAAW,KAAK,EAAE,CAAC;gBACnB,WAAW,GAAG,sBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,+BAA+B,EAAE,cAAc,CAAC,CAAC;YAChG,CAAC,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC;YACpE,CAAC,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAUD,mBAAmB;QACf,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;YAChD,MAAM,EAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,UAAU,EAAC,cAAc,EAAC,WAAW,GAAG,CAAC,CAAC;QACtE,IAAI;YAAC,MAAM,CAAC,CAAC,oBAAC,8BAAiB,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,GAAI,CAAC,CAAC;IACtE,CAAC;IAED,IAAI;QACA,MAAM,CAAC,CACH,6BAAK,EAAE,EAAC,MAAM;YACV,6BAAK,EAAE,EAAC,QAAQ,EAAC,SAAS,EAAC,aAAa;gBACpC;oBAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,SAAS,EAAC,cAAc,EAAE,QAAQ,GAAI,CAAK;gBACpE,6BAAK,EAAE,EAAC,eAAe,EAAC,SAAS,EAAC,cAAc;oBAC5C,gCAAQ,SAAS,EAAC,oBAAoB,EAAC,EAAE,EAAC,aAAa,iBAAa,OAAO,iBAAa,aAAa,eAAW,SAAS;wBAAC,oBAAC,4BAAe,IAAC,wBAAwB,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,GAAI,CAAS;oBACnN,8BAAM,EAAE,EAAC,cAAc;wBAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAE,SAAS,GAAI,CAAO,CAC9F;gBAEN,6BAAK,EAAE,EAAC,eAAe,EAAC,SAAS,EAAC,cAAc;oBAC5C,gCAAQ,SAAS,EAAC,oBAAoB,EAAC,EAAE,EAAC,aAAa,iBAAa,OAAO,iBAAa,aAAa,eAAW,SAAS;wBAAC,oBAAC,4BAAe,IAAC,wBAAwB,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,GAAI,CAAS;oBACnN,8BAAM,EAAE,EAAC,cAAc;wBAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAE,SAAS,GAAI,CAAO,CAC9F;gBAEN,6BAAK,EAAE,EAAC,aAAa,EAAC,SAAS,EAAC,UAAU;oBACtC,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,oCAAoC,iBAAa,UAAU,IACtF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CACpB;oBACT,6BAAK,SAAS,EAAC,mCAAmC;wBAC9C,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,eAAe,iBAAa,OAAO,iBAAa,oBAAoB;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,iBAAiB,EAAC,cAAc,EAAC,qBAAqB,GAAG,CAAS;wBAC5L,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,eAAe,iBAAa,OAAO,iBAAa,gBAAgB;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,eAAe,EAAC,cAAc,EAAC,kBAAkB,GAAG,CAAS;wBACnL,6BAAK,SAAS,EAAC,kBAAkB,GAAO;wBACxC,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,eAAe,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO;4BAAE,oBAAC,6BAAgB,IAAC,EAAE,EAAC,QAAQ,EAAC,cAAc,EAAC,UAAU,GAAG;;4BAAC,2BAAG,SAAS,EAAC,gBAAgB,iBAAc,IAAI,GAAM,CAAS,CAC9L,CACJ,CACJ;YACN,6BAAK,EAAE,EAAC,MAAM,EAAC,SAAS,EAAC,WAAW;gBAChC,6BAAK,SAAS,EAAC,KAAK;oBAChB,6BAAK,SAAS,EAAC,OAAO;wBAClB,gCAAK,IAAI,CAAC,mBAAmB,EAAE,CAAM;wBACrC,8BAAM,SAAS,EAAC,wBAAwB;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,aAAa,EAAC,cAAc,EAAC,cAAc,GAAG,CAAO,CACjH;oBACN,6BAAK,SAAS,EAAC,OAAO;wBAClB;4BAAI,oBAAC,4BAAe,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,GAAI,CAAK;wBAC/D,8BAAM,SAAS,EAAC,wBAAwB;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,iBAAiB,EAAC,cAAc,EAAC,WAAW,GAAG,CAAO,CAClH;oBACN,6BAAK,SAAS,EAAC,OAAO;wBAClB;4BAAI,oBAAC,4BAAe,IAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,GAAI,CAAK;wBAC9D,8BAAM,SAAS,EAAC,wBAAwB;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,gBAAgB,EAAC,cAAc,EAAC,UAAU,GAAG,CAAO,CAChH,CACJ,CACJ;YACN,6BAAK,EAAE,EAAC,QAAQ,aAEV;YACN,oBAAC,oBAAU,OAAG;YACd,oBAAC,mBAAS,OAAG;YACb,oBAAC,kBAAQ,OAAG,CACV,CACT,CAAC;IACN,CAAC;IAED,MAAM;QACF,MAAM,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;IACvC,CAAC;CACJ;AAED,kBAAe,uBAAU,CAAC,IAAI,CAAC,CAAC;;;;;;;;;;;;ACzIhC,qCAA+B;AAC/B,6CAAkF;AAClF,yCAA2D;AAC3D,iDAA4C;AAC5C,wCAAyD;AACzD,gDAAyC;AAEzC;IAAA;QACI,YAAO,GAAkB,EAAE,CAAC;IAChC,CAAC;CAAA;AAFD,oCAEC;AAED;CAGC;AAHD,kCAGC;AAED,gBAAwB,SAAQ,KAAK,CAAC,SAAkC;IACpE;QACI,KAAK,EAAE,CAAC;QAIZ,YAAO,GAAG,oBAAC,uBAAY,IAAC,IAAI,EAAC,SAAS,EAAC,KAAK,EAAC,MAAM,EAAC,SAAS,EAAC,iBAAiB,GAAE,CAAC;QAH9E,IAAI,CAAC,KAAK,GAAG,IAAI,YAAY,EAAE,CAAC;IACpC,CAAC;IAID,SAAS;QACL,CAAC,CAAC,OAAO,CAAC,2BAA2B,EAAE,CAAC,IAAI;YACxC,IAAI,IAAI,GAAG,WAAc,CAAC,IAAI,CAAC,MAA4B,CAAC,CAAC;YAC7D,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,qBAAY,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACtG,IAAI,MAAM,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,CAAC,CAAC;gBACvC,MAAM,CAAC;oBACH,SAAS,EAAE,CAAC,CAAC,GAAG,EAAE;oBAClB,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE;iBACvB;YACL,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;YACb,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB;QACb,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5E,CAAC;IAED,MAAM;QACF,MAAM,CAAC,CACH,6BAAK,EAAE,EAAC,aAAa;YACjB,6BAAK,SAAS,EAAC,YAAY,EAAC,IAAI,EAAC,QAAQ,EAAC,EAAE,EAAC,mBAAmB;gBAC5D,6BAAK,SAAS,EAAC,uBAAuB;oBAClC,6BAAK,SAAS,EAAC,eAAe;wBAC1B,6BAAK,SAAS,EAAC,cAAc;4BACzB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,kBAAc,OAAO,iBAAa,oBAAoB,aAAiB;4BAC9G,4BAAI,SAAS,EAAC,aAAa;gCAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAE,SAAS,GAAG,CAAK,CAC/F;wBACN,6BAAK,SAAS,EAAC,YAAY;4BACvB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,EAAE,EAAC,iBAAiB,EAAC,SAAS,EAAC,iBAAiB,iBAAa,OAAO,iBAAa,iBAAiB;gCACpH,oBAAC,6BAAgB,IAAC,EAAE,EAAC,KAAK,EAAC,cAAc,EAAE,KAAK,GAAG;gCAAA,8BAAM,SAAS,EAAC,gBAAgB,GAAQ,CACtF;4BACT,oBAAC,WAAW,IAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,GAAI,CACjE,CACJ,CACJ,CACJ;YACN,oBAAC,uBAAa,OAAG,CACf,CACT,CAAC;IACN,CAAC;CACJ;AAlDD,gCAkDC;AAED,iBAAyB,SAAQ,KAAK,CAAC,SAAsE;IACzG,MAAM;QACF,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK;YAC7C,MAAM,CAAC,CACH,oBAAC,cAAc,IAAC,GAAG,EAAE,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,GAAG,CACzG,CAAC;QACN,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,CACH,6BAAK,EAAE,EAAC,cAAc,IACjB,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,YAAY,CACjC,CACT,CAAC;IACN,CAAC;CACJ;AAbD,kCAaC;AAED,oBAA4B,SAAQ,KAAK,CAAC,SAAiC;IACvE,gBAAgB,CAAC,IAAU;QACvB,EAAE,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;YAAC,MAAM,CAAC,CAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,UAAU,EAAC,cAAc,EAAC,WAAW,GAAE,CAAC,CAAC;QACvG,MAAM,CAAC,CAAC,oBAAC,8BAAiB,IAAC,KAAK,EAAE,IAAI,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,MAAM;QACF,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU;YAC1C,MAAM,CAAC,CACH,4BAAI,GAAG,EAAE,UAAU,CAAC,EAAE;gBAClB,gCAAK,UAAU,CAAC,MAAM,CAAC,OAAO,CAAM;gBACpC,gCAAK,UAAU,CAAC,MAAM,CAAC,aAAa,CAAM;gBAC1C,gCAAK,UAAU,CAAC,MAAM,CAAC,OAAO,CAAM;gBACpC;oBAAI,oBAAC,4BAAe,IAAC,KAAK,EAAE,UAAU,CAAC,KAAK,GAAG,CAAK;gBACpD,gCAAK,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,UAAU,CAAC,CAAM,CACtD,CACR,CAAC;QACN,CAAC,CAAC,CAAC;QAEH,MAAM,EACF,6BAAK,SAAS,EAAC,kBAAkB;YAC7B;gBAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAC,6DAA6D,EAAC,MAAM,EAAE;wBACzH,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,WAAW;wBAC3D,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW;wBACvD,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,kBAAkB;wBACjE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB;qBAChE,GAAG,CAAK;YACT,+BAAO,SAAS,EAAC,4DAA4D;gBACzE,+BAAO,SAAS,EAAC,YAAY;oBACzB;wBACI;4BAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,SAAS,EAAC,cAAc,EAAC,SAAS,EAAC,WAAW,EAAC,MAAM,GAAE,CAAK;wBACrF;4BAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,eAAe,EAAC,cAAc,EAAE,eAAe,GAAG,CAAK;wBAChF;4BAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,SAAS,EAAC,cAAc,EAAE,SAAS,GAAG,CAAK;wBACpE;4BAAI,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAE,OAAO,GAAG,CAAK;wBACvE,4BAAI,KAAK,EAAE,EAAC,KAAK,EAAE,MAAM,EAAC;4BAAE,oBAAC,6BAAgB,IAAC,EAAE,EAAC,YAAY,EAAC,cAAc,EAAE,aAAa,GAAG,CAAK,CAClG,CACD;gBACR,mCACK,IAAI,CACD,CACJ,CACN,CACT,CAAC;IACN,CAAC;CACJ;AA5CD,wCA4CC;AAED,kBAAe,UAAU,CAAC;;;;;;;;;;;;ACjI1B,qCAA+B;AAC/B,uCAAuC;AACvC,gDAAyC;AACzC,uCAA2B;AAC3B,6CAA6E;AAC7E,+CAAmC;AACnC,yCAAuE;AAEvE;IAAA;QACI,cAAS,GAAG,IAAI,2BAAkB,EAAE,CAAC;QACrC,kBAAa,GAAe,EAAE,CAAC;QAC/B,gBAAW,GAAe,EAAE,CAAC;QAC7B,mBAAc,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC1C,yBAAoB,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAChD,mBAAc,GAAG,IAAI,kBAAkB,EAAE,CAAC;IAC9C,CAAC;CAAA;AAED;IAAA;QACI,UAAK,GAAuC,EAAE,CAAC;QAC/C,YAAO,GAAoB,EAAE,CAAC;IAClC,CAAC;CAAA;AAED;CAEC;AAED,IAAK,WAIJ;AAJD,WAAK,WAAW;IACZ,mDAAO;IACP,+DAAa;IACb,mDAAO;AACX,CAAC,EAJI,WAAW,KAAX,WAAW,QAIf;AAED,mBAAoB,SAAQ,KAAK,CAAC,SAA0E;IACxG;QACI,KAAK,EAAE,CAAC;QAWZ,qBAAgB,GAAgB,6BAAK,SAAS,EAAC,wCAAwC;YAAC,oBAAC,uBAAY,IAAC,IAAI,EAAC,iBAAiB,EAAC,KAAK,EAAC,MAAM,EAAC,KAAK,EAAE,GAAG,GAAI,CAAM,CAAC;QAC/J,YAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAyFhC,WAAM,GAA2B;YAC7B,YAAY,EAAE,IAAI;YAClB,kBAAkB,EAAE,IAAI;YACxB,YAAY,EAAE,IAAI;SACrB;QAED,mBAAc,GAAG;YACb,YAAY,EAAE,CAAC,CAAC;gBACZ,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;YACD,UAAU,EAAE,CAAC,CAAC;gBACV,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;YACD,OAAO,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC;gBACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;YACD,aAAa,EAAE,CAAC,CAAC;gBACb,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,CAAC,CAAC,KAAK,CAAC;gBAC7C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;YACD,OAAO,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC;gBACvC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC;SACJ;QA/HG,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,IAAI,iBAAiB,EAAE,CAAC;QAChF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED,iBAAiB;QACb,CAAC,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/E,CAAC,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9E,CAAC;IAKD,cAAc;QACV,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACrC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,mBAAmB;QACf,CAAC,CAAC,OAAO,CAAC,8BAA8B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI;YACvE,MAAM,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,IAAI,iBAAiB,EAAE,CAAC;YACpF,MAAM,KAAK,GAAG,IAAI,CAAC,MAA8C,CAAC;YAClE,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG;gBAC1B,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACxC,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG;gBACxB,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACtC,CAAC,CAAC,CAAC;YACH,QAAQ,CAAC,SAAS,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACrD,QAAQ,CAAC,SAAS,CAAC,YAAY,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB,CAAC,SAAqB;QACnC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ;YAC1B,MAAM,CAAC,CACH,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,sBAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,OAAO,CAAC,EAAC,CACrG,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,KAAa,EAAE,KAAkB,EAAE,OAA2B,EAAE,EAAgC;QAC7G,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACtD,IAAI,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC;YACpB,GAAG,EAAE,kCAAkC;YACvC,IAAI,EAAE;gBACF,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,KAAK;gBACX,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc;gBAC/C,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY;aAC9C;YACD,OAAO,EAAE,IAAI;gBACT,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACzB,MAAM,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC3C,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;gBAC9B,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC;gBACzB,EAAE,CAAC,OAAO,CAAC,CAAC;YAChB,CAAC;YACD,KAAK,EAAE,CAAC;gBACJ,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,OAAO,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;gBACnD,EAAE,CAAC,OAAO,CAAC,CAAC;YAChB,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAED,aAAa,CAAC,KAAa,EAAE,cAAsB;QAC/C,MAAM,SAAS,GAAG,CAAC,CAAC,IAAI,cAAc,iBAAiB,CAAC,CAAC;QACzD,MAAM,eAAe,GAAG,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,KAAK,CAAC;QAC5G,MAAM,CAAC,CACH;YAAG,kCAAO,KAAK,CAAQ;YAAA,8BAAM,SAAS,EAAC,YAAY,IAAE,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAQ,CAAI,CAC3G,CAAC;IACN,CAAC;IAED,aAAa,CAAC,SAAS;QACnB,MAAM,WAAW,GAAG,EAAE,CAAC;QACvB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QAC9D,CAAC;QACD,MAAM,CAAC,WAAW,CAAC;IACvB,CAAC;IAED,MAAM,CAAC,KAAK;QACR,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,cAAI,CAAC,QAAQ,CAAC,kBAAkB,EAC5B,IAAI,CAAC,KAAK,CAAC,SAAS,EACpB,IAAI;YACA,MAAM,MAAM,GAAG,IAAoB,CAAC;YACpC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE,CAAC;gBAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,CAAC,CAAC,kCAAkC,CAAC,CAAC,KAAK,EAAE,CAAC;YAClD,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IA+BD,IAAI;QACA,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7B,MAAM,CAAC,CACH,8BAAM,EAAE,EAAC,qBAAqB,EAAC,MAAM,EAAC,GAAG;YACjC,+BAAO,IAAI,EAAC,QAAQ,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG;YAChE,6BAAK,SAAS,EAAC,KAAK;gBAChB,6BAAK,SAAS,EAAC,wBAAwB;oBACnC;wBAAO,oBAAC,6BAAgB,IAAC,EAAE,EAAC,MAAM,EAAC,cAAc,EAAC,MAAM,GAAE,CAAQ;oBAClE,oBAAC,MAAM,IAAC,SAAS,EAAC,gBAAgB,EAAC,IAAI,EAAC,cAAc,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS;6BACjF,cAAc,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAC9G,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,GAAG,CAC5C;gBACN,6BAAK,SAAS,EAAC,wBAAwB;oBACnC;wBAAO,oBAAC,6BAAgB,IAAC,EAAE,EAAC,IAAI,EAAC,cAAc,EAAC,IAAI,GAAE,CAAQ;oBAC9D,oBAAC,MAAM,IAAC,SAAS,EAAC,gBAAgB,EAAC,IAAI,EAAC,YAAY,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EACxL,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,GAAG,CAC5C,CACJ;YACN,6BAAK,SAAS,EAAC,aAAa;gBACxB,6BAAK,SAAS,EAAC,uBAAuB;oBAClC,oBAAC,MAAM,IAAC,IAAI,EAAC,SAAS,EAAC,WAAW,EAAE,sBAAI,CAAC,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAC,yBAAyB,EAAC,SAAS,EAAE,IAAI,EACvH,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAC9I,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,CAAC,EAAC,CAAC,CAAC,EAC/I,aAAa,EAAE,CAAC,KAAK,KAAK,iCAAa,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,EAC7F,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,GAAG,CAC5I,CACJ;YACN,6BAAK,SAAS,EAAC,aAAa;gBACxB,6BAAK,SAAS,EAAC,uBAAuB;oBAClC,oBAAC,MAAM,IAAC,IAAI,EAAC,eAAe,EAAC,WAAW,EAAE,sBAAI,CAAC,MAAM,CAAC,IAAI,EAAE,eAAe,CAAC,EAAE,SAAS,EAAC,eAAe,EACzF,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc;6BACvE,aAAa,EAAE,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,eAAe,CAAC,EACxF,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAC,oBAAoB,EAAE,CAAC,EAAC,CAAC,CAAC,EACjK,aAAa,EAAE,CAAC,KAAK,KAAK,iCAAa,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,EACnG,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,kBAAkB,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,OAAO,GAAG,CACxJ,CACJ;YACN,6BAAK,SAAS,EAAC,aAAa;gBACxB,6BAAK,SAAS,EAAC,uBAAuB;oBAClC,oBAAC,MAAM,IAAC,IAAI,EAAC,SAAS,EAAC,WAAW,EAAE,sBAAI,CAAC,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAC,SAAS,EACvF,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,EAC9I,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,CAAC,EAAC,CAAC,CAAC,EAC/I,aAAa,EAAE,CAAC,KAAK,KAAK,iCAAa,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EACzI,aAAa,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,GAAG,CAChG,CACJ;YACN,6BAAK,SAAS,EAAC,gBAAgB;gBAC3B,6BAAK,SAAS,EAAC,UAAU;oBACrB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,wBAAwB,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM;wBAAE,oBAAC,6BAAgB,IAAC,EAAE,EAAC,MAAM,EAAC,cAAc,EAAC,MAAM,GAAE,CAAS,CACzI;gBACN,6BAAK,SAAS,EAAC,qBAAqB;oBAChC,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,wBAAwB,kBAAc,OAAO,iBAAa,iBAAiB;wBAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,QAAQ,EAAC,cAAc,EAAC,QAAQ,GAAE,CAAS,CAC1K,CACJ,CACP,CAAC,CAAC;IACjB,CAAC;IAED,MAAM;QACF,MAAM,CAAC,CACH,6BAAK,EAAE,EAAC,gBAAgB,EAAC,SAAS,EAAC,YAAY;YAC3C,6BAAK,SAAS,EAAC,cAAc;gBACzB,6BAAK,SAAS,EAAC,eAAe;oBAC1B,6BAAK,SAAS,EAAC,cAAc;wBACzB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,kBAAc,OAAO,iBAAa,iBAAiB,aAAiB;wBAC3G,4BAAI,SAAS,EAAC,aAAa,iBAAgB,CACzC;oBACN,6BAAK,SAAS,EAAC,YAAY,IACtB,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE,CAC1B,CACJ,CACJ,CACJ,CACT,CAAC;IACN,CAAC;CACJ;AAED,kBAAe,uBAAU,CAAC,aAAa,CAAC,CAAC;;;;;;;;;;;;AChPzC,qCAA+B;AAC/B,6CAA4C;AAE5C,cAAe,SAAQ,KAAK,CAAC,SAA+B;IACxD,MAAM;QACF,MAAM,CAAC,CACH,6BAAK,SAAS,EAAC,YAAY,EAAC,EAAE,EAAC,aAAa;YACxC,6BAAK,SAAS,EAAC,cAAc;gBACzB,6BAAK,SAAS,EAAC,eAAe;oBAC1B,6BAAK,SAAS,EAAC,cAAc;wBACzB,4BAAI,SAAS,EAAC,aAAa;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,aAAa,EAAC,cAAc,EAAC,kBAAkB,GAAG,CAAK;wBACxG,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,kBAAc,OAAO,gBAAY,OAAO;4BAC3E,6CAAkB,MAAM,aAAe,CAClC,CACP;oBACN,6BAAK,SAAS,EAAC,YAAY,GAErB;oBACN,6BAAK,SAAS,EAAC,cAAc;wBACzB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,aAAa,kBAAc,OAAO,iBAAa,cAAc;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,cAAc,EAAC,cAAc,EAAC,OAAO,GAAG,CAAS,CAClK,CACJ,CACJ,CACJ,CACT,CAAC;IACN,CAAC;CACJ;AAED,kBAAe,QAAQ,CAAC;;;;;;;;;;;AC5BxB,qCAA+B;AAE/B,6CAA8C;AAC9C,gDAAyC;AACzC,uCAA+B;AAE/B;IAAA;QAEI,YAAO,GAAY,KAAK,CAAC;QACzB,WAAM,GAA8B,EAAE,CAAC;QACvC,SAAI,GAA0B,SAAS,CAAC;IAC5C,CAAC;CAAA;AAED;CAEC;AAED,eAAuB,SAAQ,KAAK,CAAC,SAAyC;IAC1E;QACI,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,KAAK,GAAG,IAAI,cAAc,EAAE,CAAC;QAElC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;IAED,iBAAiB;QACb,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzD,CAAC;IAED,QAAQ,CAAC,KAAK;QACV,IAAI,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,WAAW,CAA0B,EAAE,CAAC,CAAC;QAC3E,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QACX,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACnC,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,cAAc,EAAE,IAAI;YACjD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACf,CAAC,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;gBAC/B,MAAM,CAAC;YACX,CAAC;YAED,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,YAAY,CAAC,KAAK;QACd,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC;YAAC,MAAM,CAAC;QACjC,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,MAAM,CAAC;QACX,CAAC;QAED,CAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,EAAE,CAAC;QAChC,WAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,IAAkB;YAC5F,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;gBACf,IAAI,CAAC,eAAe,EAAE,CAAC;YAC3B,IAAI,CAAC,CAAC;gBACF,CAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,EAAE,CAAC;gBAChC,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;YACpC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,OAAO;QACH,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACtC,MAAM,CAAC,CACH,oBAAC,uBAAY,IAAC,IAAI,EAAC,iBAAiB,EAAC,KAAK,EAAC,MAAM,EAAC,KAAK,EAAE,GAAG,GAAI,CACnE,CAAC;IACN,CAAC;IAED,WAAW,CAAC,CAAC;QACT,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,OAAO;QACH,MAAM,CAAC,CACH,6BAAK,SAAS,EAAC,aAAa;YACxB,6BAAK,SAAS,EAAC,KAAK;gBAChB,6BAAK,SAAS,EAAC,QAAQ,EAAC,EAAE,EAAC,iBAAiB;oBACxC,8BAAM,EAAE,EAAC,kBAAkB,IAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAQ,CAC5D,CACJ;YACN,6BAAK,SAAS,EAAC,KAAK;gBAChB,6BAAK,SAAS,EAAC,QAAQ,EAAC,EAAE,EAAC,eAAe;oBACtC;wBACI,6BAAK,SAAS,EAAC,mBAAmB;4BAC9B,+BAAO,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,GAAI;4BAC1H,6BAAK,SAAS,EAAC,SAAS,EAAC,EAAE,EAAC,oBAAoB;gCAAC,oBAAC,uBAAY,IAAC,IAAI,EAAC,SAAS,EAAC,KAAK,EAAC,MAAM,GAAG,CAAM,CACjG,CACH,CACL,CACJ;YACN,6BAAK,SAAS,EAAC,+BAA+B;gBAC1C,6BAAK,SAAS,EAAC,WAAW;oBACtB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,mBAAmB,YAAe,CAChE;gBACN,6BAAK,SAAS,EAAC,oBAAoB;oBAC/B,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAE,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,GAAG,UAAU,EAAE,iBAAc,UAAU,mBAAe,MAAM,mBAAe,OAAO,EAAC,EAAE,EAAC,wBAAwB;wBAChM,oBAAC,6BAAgB,IAAC,EAAE,EAAC,gBAAgB,EAAC,cAAc,EAAC,eAAe,GAAG,CAClE;oBACT,6BAAK,SAAS,EAAC,eAAe,qBAAiB,wBAAwB;wBACnE,gCAAQ,IAAI,EAAC,QAAQ,IAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAW,CAC9D,CACJ;gBACN,6BAAK,SAAS,EAAC,WAAW;oBACtB,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,mBAAmB,YAAe,CAChE,CACJ,CACJ,CACT,CAAC;IACN,CAAC;IAED,MAAM;QACF,MAAM,CAAC,CACH,6BAAK,EAAE,EAAC,YAAY,EAAC,SAAS,EAAC,YAAY;YACvC,6BAAK,SAAS,EAAC,cAAc;gBACzB,6BAAK,SAAS,EAAC,eAAe;oBAC1B,6BAAK,SAAS,EAAC,cAAc;wBACzB,4BAAI,SAAS,EAAC,aAAa;4BAAC,oBAAC,6BAAgB,IAAC,EAAE,EAAC,kBAAkB,EAAC,cAAc,EAAC,QAAQ,GAAG,CAAK;wBACnG,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,kBAAc,OAAO,iBAAa,aAAa,aAAiB,CACrG;oBACN,6BAAK,SAAS,EAAC,YAAY,IACrB,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,CAChC,CACJ,CACJ,CACJ,CACT,CAAC;IACN,CAAC;CACJ;AAxHD,8BAwHC;AAED,kBAAe,SAAS,CAAC;;;;;;;;;AC3IzB,yC;;;;;;;;;;ACCA,kCAA4B;AAG5B;IACI,MAAM,CAAC,gBAAgB;QACnB,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,MAAM,CAAC,UAAU;QACb,MAAM,GAAG,GAAG,SAAS,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC;QACpD,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,IAAI;IAEX,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,IAAkB,EAAE,cAAsB,EAAE,GAAY,EAAE,MAAe;QACnF,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;YACtB,EAAE,EAAE,GAAG,IAAI,cAAc,CAAC,iBAAiB,EAAE;YAC7C,cAAc,EAAE,cAAc;SACjC,CAAC,CAAC;IACP,CAAC;CACJ;AAED,kBAAe,IAAI,CAAC;;;;;;;;;;;AC1BpB,IAAY,WAIX;AAJD,WAAY,WAAW;IACnB,mDAAO;IACP,mDAAO;IACP,+DAAa;AACjB,CAAC,EAJW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAItB;AAED;IAAA;QACI,gBAAW,GAAW,EAAE,CAAC;IAC7B,CAAC;CAAA;AAFD,sCAEC;AAED;IAAA;QACI,OAAE,GAAW,CAAC,CAAC;QACf,gBAAW,GAAW,EAAE,CAAC;QACzB,eAAU,GAAW,EAAE,CAAC;QACxB,uBAAkB,GAAW,EAAE,CAAC;QAChC,sBAAiB,GAAW,EAAE,CAAC;QAC/B,YAAO,GAAW,EAAE,CAAC;IACzB,CAAC;CAAA;AAPD,4BAOC;AAED;IAAA;QACI,OAAE,GAAW,sCAAsC,CAAC;QACpD,iBAAY,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,eAAU,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC5B,UAAK,GAAoB,EAAE,CAAC;QAC5B,YAAO,GAAW,EAAE,CAAC;QACrB,kBAAa,GAAW,EAAE,CAAC;QAC3B,YAAO,GAAW,EAAE,CAAC;IACzB,CAAC;CAAA;AARD,wBAQC;AAED;IAAA;QACI,OAAE,GAAW,sCAAsC,CAAC;QACpD,WAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QACtB,UAAK,GAAW,CAAC,CAAC;QAClB,eAAU,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC;CAAA;AALD,4CAKC;AAED;IAAA;QACI,OAAE,GAAW,sCAAsC,CAAC;QACpD,mBAAc,GAAW,CAAC,CAAC;QAC3B,iBAAY,GAAW,CAAC,CAAC;QACzB,YAAO,GAAW,EAAE,CAAC;QACrB,kBAAa,GAAW,EAAE,CAAC;QAC3B,YAAO,GAAW,EAAE,CAAC;IACzB,CAAC;CAAA;AAPD,gDAOC;AAED;IAAA;QACI,OAAE,GAAW,sCAAsC,CAAC;QACpD,WAAM,GAAqB,IAAI,gBAAgB,EAAE,CAAC;QAClD,eAAU,GAAS,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/B,iBAAY,GAAW,CAAC,CAAC;QACzB,eAAU,GAAW,CAAC,CAAC;QACvB,aAAQ,GAAW,CAAC,CAAC;IACzB,CAAC;CAAA;AAPD,wBAOC;AAED;IAAA;QACI,OAAE,GAAW,sCAAsC,CAAC;QACpD,aAAQ,GAAW,EAAE,CAAC;QACtB,UAAK,GAAW,EAAE,CAAC;QACnB,aAAQ,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,cAAS,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QACxB,iBAAY,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,uBAAkB,GAAW,EAAE,CAAC;QAChC,oBAAe,GAAW,EAAE,CAAC;QAC7B,mBAAc,GAAY,KAAK,CAAC;QAChC,gBAAW,GAAW,EAAE,CAAC;QACzB,yBAAoB,GAAY,KAAK,CAAC;IAC1C,CAAC;CAAA;AAZD,oBAYC;AAED;IACI,YAAY,YAAY,EAAE,UAAU;QAChC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IACjC,CAAC;IAKD,QAAQ;QACJ,MAAM,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IACrE,CAAC;CACJ;AAZD,oCAYC;AAED;CAIC;AAJD,oCAIC;AAED;IAAA;QACI,iBAAY,GAAW,sCAAsC,CAAC;QAC9D,cAAS,GAAgB,WAAW,CAAC,OAAO,CAAC;QAC7C,YAAO,GAAgB,WAAW,CAAC,aAAa,CAAC;QACjD,SAAI,GAAW,EAAE,CAAC;QAClB,OAAE,GAAW,EAAE,CAAC;QAChB,aAAQ,GAAW,EAAE,CAAC;IAC1B,CAAC;CAAA;AAPD,kCAOC;AAED;CAYC;AAZD,sBAYC;;;;;;;;;;;AC7GD,kCAA4B;AAE5B;IACI,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO;QAC9B,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;YACV,IAAI,EAAE,MAAM;YACZ,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC1B,WAAW,EAAE,kBAAkB;YAC/B,QAAQ,EAAE,MAAM;YAChB,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;IACP,CAAC;CACJ;AAXD,oBAWC;AAED,kBAAe,IAAI,CAAC","file":"js/main.build.js","sourcesContent":["import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport * as ReactIntl from \"react-intl\";\r\nimport I18n from \"./LocaleLoader\";\r\nimport Home from \"./Components/Home\";\r\nimport * as en from \"react-intl/locale-data/en\";\r\nimport { Theme } from \"./Models\";\r\nimport IntlProvider = ReactIntl.IntlProvider;\r\n\r\nimport * as bootstrap from \"bootstrap\"; //only for webpack\r\n\r\nconst appCreateDOM = (messages, css, themeData) => {\r\n    function camelCaseToDash(myStr) {\r\n        return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n    }\r\n\r\n    const replaceAll = (target, search, replacement) => {\r\n        function escapeRegExp(str) {\r\n            return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\r\n        }\r\n\r\n        return target.replace(new RegExp(escapeRegExp(search), 'g'), replacement);\r\n    };\r\n\r\n    var theme = themeData[2].responseJSON.result;\r\n    var temp = bootstrap;\r\n    ReactIntl.addLocaleData(en);\r\n    var fixedCss = css[2].responseText;\r\n    for (var property in theme) {\r\n        if (theme.hasOwnProperty(property)) {\r\n            fixedCss = replaceAll(fixedCss, `\"$${camelCaseToDash(property)}\"`, theme[property]);\r\n        }\r\n    }\r\n\r\n    var style = $(`<style>${fixedCss}</style>`);\r\n    $(\"head\").append(style);\r\n\r\n    ReactDOM.render(\r\n        <IntlProvider locale={I18n.getCurrentLocale()} messages={messages[2].responseJSON}>\r\n            <Home/>\r\n        </IntlProvider>,\r\n        document.getElementById(\"content\")\r\n    );\r\n}\r\n\r\nvar p1 = I18n.getStrings();\r\nvar p2 = $.get(\"/css/main.build.css\", null, $.noop, \"text\");\r\nvar p3 = $.getJSON(\"/api/themes/current-theme\");\r\n$.when(p1, p2, p3).then(appCreateDOM).fail(() => console.log(\"initialisation error\"));\n\n\n// WEBPACK FOOTER //\n// ./Scripts/MainPage.tsx","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../locale-data/index.js (ignored)\n// module id = 199\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/locales (ignored)\n// module id = 207\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/locales (ignored)\n// module id = 214\n// module chunks = 0","import * as React from \"react\";\r\nimport { FormattedNumber, FormattedMessage, injectIntl, InjectedIntlProps, FormattedRelative } from \"react-intl\";\r\nimport LessonsBox from \"./LessonsBox\";\r\nimport ErrorBox from \"./ErrorBox\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { User } from \"../Models\";\r\nimport * as Bootstrap from \"bootstrap\";\r\nimport I18n from \"../LocaleLoader\";\r\nimport ReviewBox from \"./ReviewBox\";\r\n\r\nclass HomeState {\r\n    lessonsCount: number = 0;\r\n    reviewsCount: number = 0;\r\n    nextReview = new Date(0);\r\n    reviewsNextHour: number = 0;\r\n    reviewsNextDay: number = 0;\r\n    user = new User();\r\n}\r\n\r\nclass HomeProps {\r\n    \r\n}\r\n\r\nclass Home extends React.Component<HomeProps & InjectedIntlProps, HomeState> {\r\n    constructor() {\r\n        super();\r\n        this.state = new HomeState();\r\n        this.signOut = this.signOut.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        var promises = this.loadState();\r\n        $.when.apply(this, promises).then(a => {\r\n            this.loading = null;\r\n            this.forceUpdate();\r\n        }, error => {\r\n            console.log(error);\r\n        });\r\n        window.setInterval(this.loadState.bind(this), 900000);\r\n        window.setInterval(() => this.setState({ nextReview: this.state.nextReview }), 1000); //Update relative time\r\n    }\r\n\r\n    loadState() {\r\n        const p1 = $.getJSON(\"/api/reviews/current-count\", a => this.setState({ reviewsCount: a.result || 0 }));\r\n        const p2 = $.getJSON(\"/api/lessons/current-count\", a => this.setState({ lessonsCount: a.result || 0 }));\r\n        const p3 = $.getJSON(\"/api/users/current\", a => this.setState({ user: a.result || new User() }));\r\n        const p4 = $.getJSON(\"/api/reviews/next-review-time\", a => this.setState({ nextReview: new Date(a.result) }));\r\n        const p5 = $.getJSON(\"/api/reviews/next-hour-count\", a => this.setState({ reviewsNextHour: a.result }));\r\n        const p6 = $.getJSON(\"/api/reviews/next-day-count\", a => this.setState({ reviewsNextDay: a.result }));\r\n\r\n        return [p1, p2, p3, p4, p5, p6];\r\n    }\r\n\r\n    signOut(e) {\r\n        e.preventDefault();\r\n        $.getJSON(\"/api/auth/logout\", result => {\r\n            window.location.href = \"/login\";\r\n        }).catch((requestObj: JQuery.jqXHR<any>, error: JQuery.Ajax.ErrorTextStatus, errorThrown: string) => {\r\n            if (errorThrown === \"\")\r\n                errorThrown = I18n.format(this.props.intl, \"An unknown error has occured.\", \"unknownError\");\r\n            $(\"#error-modal .modal-body\").html(requestObj.status + errorThrown);\r\n            $(\"#error-modal\").modal(\"show\");\r\n        });\r\n    }\r\n\r\n    loading: JSX.Element =\r\n    <div id=\"loading-screen\">\r\n        <div>\r\n            <img src=\"~/img/logo.png\" alt=\"Memory\" />\r\n            <ReactLoading type=\"spinningBubbles\" color=\"#464a4c\" />\r\n        </div>\r\n    </div>;\r\n\r\n    nextReviewFormatted() {\r\n        if(this.state.nextReview < new Date(Date.now()))\r\n        return(<FormattedMessage id=\"rightNow\" defaultMessage=\"Right now\" />); \r\n        else return (<FormattedRelative value={this.state.nextReview} />);\r\n    }\r\n    \r\n    page(): JSX.Element {\r\n        return (\r\n            <div id=\"main\">\r\n                <div id=\"header\" className=\"page-header\">\r\n                    <h1><FormattedMessage id=\"appName\" defaultMessage={\"Memory\"} /></h1>\r\n                    <div id=\"lessons-count\" className=\"button-group\">\r\n                        <button className=\"btn btn-sq primary\" id=\"lessons-btn\" data-toggle=\"modal\" data-target=\"#review-box\" data-type=\"lessons\"><FormattedNumber maximumSignificantDigits={2} value={this.state.lessonsCount} /></button>\r\n                        <span id=\"lessons-text\"><FormattedMessage id=\"lessonsLabel\" defaultMessage={\"Lessons\"} /></span>\r\n                    </div>\r\n            \r\n                    <div id=\"reviews-count\" className=\"button-group\">\r\n                        <button className=\"btn btn-sq primary\" id=\"reviews-btn\" data-toggle=\"modal\" data-target=\"#review-box\" data-type=\"reviews\"><FormattedNumber maximumSignificantDigits={2} value={this.state.reviewsCount} /></button>\r\n                        <span id=\"reviews-text\"><FormattedMessage id=\"reviewsLabel\" defaultMessage={\"Reviews\"} /></span>\r\n                    </div>\r\n\r\n                    <div id=\"account-box\" className=\"dropdown\">\r\n                        <button type=\"button\" className=\"btn btn-lg primary dropdown-toggle\" data-toggle=\"dropdown\">\r\n                            {this.state.user.userName}\r\n                        </button>\r\n                        <div className=\"dropdown-menu dropdown-menu-right\">\r\n                            <button type=\"button\" className=\"dropdown-item\" data-toggle=\"modal\" data-target=\"#lessons-box-modal\"><FormattedMessage id=\"viewAssignments\" defaultMessage=\"View Active Lessons\" /></button>\r\n                            <button type=\"button\" className=\"dropdown-item\" data-toggle=\"modal\" data-target=\"#account-modal\"><FormattedMessage id=\"manageAccount\" defaultMessage=\"Account Settings\" /></button>\r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <button type=\"button\" className=\"dropdown-item\" onClick={this.signOut}><FormattedMessage id=\"logout\" defaultMessage=\"Sign Out\" /> <i className=\"fa fa-sign-out\" aria-hidden={true}></i></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"body\" className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-4\">\r\n                            <h1>{this.nextReviewFormatted()}</h1>\r\n                            <span className=\"text-gray-dark text-sm\"><FormattedMessage id=\"nextReviews\" defaultMessage=\"Next Reviews\" /></span>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <h1><FormattedNumber value={this.state.reviewsNextHour} /></h1>\r\n                            <span className=\"text-gray-dark text-sm\"><FormattedMessage id=\"reviewsNextHour\" defaultMessage=\"Next Hour\" /></span>\r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            <h1><FormattedNumber value={this.state.reviewsNextDay} /></h1>\r\n                            <span className=\"text-gray-dark text-sm\"><FormattedMessage id=\"reviewsNextDay\" defaultMessage=\"Next 24h\" /></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"footer\">\r\n                    Footer\r\n                </div>\r\n                <LessonsBox />\r\n                <ReviewBox />\r\n                <ErrorBox />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return this.loading || this.page();\r\n    }\r\n}\r\n\r\nexport default injectIntl(Home);\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Components/Home.tsx","import * as React from \"react\";\r\nimport { FormattedMessage, FormattedNumber, FormattedRelative } from \"react-intl\";\r\nimport { LessonAssignment, LanguagePair } from \"../Models\";\r\nimport LessonsEditor from \"./LessonsEditor\";\r\nimport { IGrouping, from as enumerableFrom } from \"linq\";\r\nimport ReactLoading from \"react-loading\";\r\n\r\nexport class LessonsState {\r\n    lessons: LessonEntry[] = [];\r\n}\r\n\r\nexport class LessonEntry {\r\n    languages: LanguagePair;\r\n    lessons: LessonAssignment[];\r\n}\r\n\r\nexport class LessonsBox extends React.Component<undefined, LessonsState> {\r\n    constructor() {\r\n        super();\r\n        this.state = new LessonsState();\r\n    }\r\n\r\n    loading = <ReactLoading type=\"bubbles\" color=\"#444\" className=\"loading-bubbles\"/>;\r\n    \r\n    loadState() {\r\n        $.getJSON(\"/api/lessons/current-list\", (json) => {\r\n            var list = enumerableFrom(json.result as LessonAssignment[]);\r\n            var lookup = list.toLookup(a => new LanguagePair(a.lesson.languageFrom, a.lesson.languageTo), b => b);\r\n            var parsed = lookup.toEnumerable().select(a => {\r\n                return {\r\n                    languages: a.key(),\r\n                    lessons: a.toArray()\r\n                }\r\n            }).toArray();\r\n            this.loading = null;\r\n            this.setState({ lessons: parsed });\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        $(\"#lessons-box-modal\").on(\"shown.bs.modal\", this.loadState.bind(this));\r\n    }\r\n    \r\n    render(): JSX.Element {\r\n        return (\r\n            <div id=\"lessons-box\">\r\n                <div className=\"modal fade\" role=\"dialog\" id=\"lessons-box-modal\">\r\n                    <div className=\"modal-dialog modal-lg\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" data-target=\"#lessons-box-modal\">&times;</button>\r\n                                <h4 className=\"modal-title\"><FormattedMessage id=\"lessonsLabel\" defaultMessage={\"Lessons\"}/></h4>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <button type=\"button\" id=\"lessons-add-btn\" className=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#lessons-editor\">\r\n                                    <FormattedMessage id=\"add\" defaultMessage={\"Add\"}/><span className=\"glyphicon-plus\"></span>\r\n                                </button>\r\n                                <LessonsList lessons={this.state.lessons} loading={this.loading} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <LessonsEditor />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class LessonsList extends React.Component<{ lessons: LessonEntry[], loading: JSX.Element }, undefined> {\r\n    render(): JSX.Element {\r\n        const subListNodes = this.props.lessons.map(entry => {\r\n            return (\r\n                <LessonsSubList key={entry.languages.toString()} languages={entry.languages} lessons={entry.lessons}/>\r\n            );\r\n        });\r\n        return (\r\n            <div id=\"lessons-list\">\r\n                {this.props.loading || subListNodes}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class LessonsSubList extends React.Component<LessonEntry, undefined> {\r\n    getFormattedTime(time: Date): JSX.Element {\r\n        if (time < new Date(Date.now())) return (<FormattedMessage id=\"rightNow\" defaultMessage=\"Right Now\"/>);\r\n        return (<FormattedRelative value={time}/>);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        const rows = this.props.lessons.map(assignment => {\r\n            return (\r\n                <tr key={assignment.id}>\r\n                    <td>{assignment.lesson.reading}</td>\r\n                    <td>{assignment.lesson.pronunciation}</td>\r\n                    <td>{assignment.lesson.meaning}</td>\r\n                    <td><FormattedNumber value={assignment.stage}/></td>\r\n                    <td>{this.getFormattedTime(assignment.nextReview)}</td>\r\n                </tr>\r\n            );\r\n        });\r\n\r\n        return(\r\n            <div className=\"lessons-sub-list\">\r\n                <h4><FormattedMessage id=\"languagePair\" defaultMessage=\"{languageFrom} ({countryFrom}) - {languageTo} ({countryTo})\" values={{\r\n                    languageFrom: this.props.languages.languageFrom.englishName,\r\n                    languageTo: this.props.languages.languageTo.englishName,\r\n                    countryFrom: this.props.languages.languageFrom.englishCountryName,\r\n                    countryTo: this.props.languages.languageTo.englishCountryName\r\n                }}/></h4>\r\n                <table className=\"table table-hover table-responsive table-bordered table-sm\">\r\n                    <thead className=\"bg-primary\">\r\n                        <tr>\r\n                            <th><FormattedMessage id=\"reading\" defaultMessage=\"Reading\" description=\"test\"/></th>\r\n                            <th><FormattedMessage id=\"pronunciation\" defaultMessage={\"Pronunciation\"}/></th>\r\n                            <th><FormattedMessage id=\"meaning\" defaultMessage={\"Meaning\"}/></th>\r\n                            <th><FormattedMessage id=\"currentStage\" defaultMessage={\"Stage\"}/></th>\r\n                            <th style={{width: \"8rem\"}}><FormattedMessage id=\"nextReview\" defaultMessage={\"Next Review\"}/></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LessonsBox;\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Components/LessonsBox.tsx","import * as React from \"react\";\r\nimport * as Select from \"react-select\";\r\nimport ReactLoading from \"react-loading\";\r\nimport Util from \"../Util\";\r\nimport { FormattedMessage, InjectedIntlProps, injectIntl } from \"react-intl\";\r\nimport I18n from \"../LocaleLoader\";\r\nimport { Language, ActionResult, LessonsEditorModel } from \"../Models\";\r\n\r\nclass LessonEditorState {\r\n    formModel = new LessonsEditorModel();\r\n    languagesFrom: Language[] = [];\r\n    languagesTo: Language[] = [];\r\n    readingOptions = new SelectOptionsEntry();\r\n    pronunciationOptions = new SelectOptionsEntry();\r\n    meaningOptions = new SelectOptionsEntry();\r\n}\r\n\r\nclass SelectOptionsEntry {\r\n    cache: { [key: string]: Select.Option[] } = {};\r\n    options: Select.Option[] = [];\r\n}\r\n\r\nclass LessonEditorInitialState {\r\n    initialState?: LessonEditorState;\r\n}\r\n\r\nenum EditorField {\r\n    Reading,\r\n    Pronunciation,\r\n    Meaning\r\n}\r\n\r\nclass LessonsEditor extends React.Component<LessonEditorInitialState & InjectedIntlProps, LessonEditorState> {\r\n    constructor() {\r\n        super();\r\n        this.state = (this.props && this.props.initialState) || new LessonEditorState();\r\n        this.submit = this.submit.bind(this);\r\n        this.loadAutocomplete = this.loadAutocomplete.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        $(\"#lessons-editor\").on(\"shown.bs.modal\", this.loadStateFromServer.bind(this));\r\n        $(\"#lessons-editor\").on(\"hidden.bs.modal\", this.resetComponent.bind(this))\r\n    }\r\n\r\n    loadingComponent: JSX.Element = <div className=\"d-flex flex-row justify-content-center\"><ReactLoading type=\"spinningBubbles\" color=\"#ccc\" delay={100} /></div>;\r\n    loading = this.loadingComponent;\r\n\r\n    resetComponent() {\r\n        this.loading = this.loadingComponent;\r\n        this.forceUpdate();\r\n    }\r\n\r\n    loadStateFromServer() {\r\n        $.getJSON(`/api/lessons/language-list/${this.state.formModel.id}`, {}, data => {\r\n            const newState = (this.props && this.props.initialState) || new LessonEditorState();\r\n            const pairs = data.result as { from: Language[], to: Language[] };\r\n            pairs.from.forEach((value, key) => {\r\n                newState.languagesFrom[key] = value;\r\n            });\r\n            pairs.to.forEach((value, key) => {\r\n                newState.languagesTo[key] = value;\r\n            });\r\n            newState.formModel.languageFromId = pairs.from[0].id;\r\n            newState.formModel.languageToId = pairs.to[0].id;\r\n            this.loading = null;\r\n            this.setState(newState);\r\n        });\r\n    }\r\n\r\n    formatLangOptions(languages: Language[]) {\r\n        return languages.map((language) => {\r\n            return (\r\n                { value: language.id, label: I18n.format(this.props.intl, language.englishName, language.ietfTag)}\r\n            );\r\n        });\r\n    }\r\n\r\n    loadAutocomplete(value: string, field: EditorField, context: SelectOptionsEntry, cb: (SelectOptionsEntry) => void) {\r\n        if (context.cache[value]) return context.cache[value];\r\n        var requestObj = $.ajax({\r\n            url: \"/api/lessons/editor-autocomplete\",\r\n            data: {\r\n                query: value,\r\n                type: field,\r\n                langFromId: this.state.formModel.languageFromId,\r\n                langToId: this.state.formModel.languageToId\r\n            },\r\n            success: json => {\r\n                var result = json.result;\r\n                result.add({ value: value, label: value });\r\n                context.cache[value] = result;\r\n                context.options = result;\r\n                cb(context);\r\n            },\r\n            error: a => {\r\n                console.error(a);\r\n                context.options = [{ value: value, label: value }];\r\n                cb(context);\r\n            }\r\n        });\r\n    }\r\n\r\n    renderPreview(value: string, componentClass: string): JSX.Element {\r\n        const bestMatch = $(`.${componentClass} .Select-option`);\r\n        const completedString = (bestMatch.length > 1 && bestMatch[1] && bestMatch[1].children.toString()) || value;\r\n        return (\r\n            <p><span>{value}</span><span className=\"text-muted\">{completedString.substring(value.length)}</span></p>\r\n        );\r\n    }\r\n\r\n    objectifyForm(formArray) {\r\n        const returnArray = {};\r\n        for (let i = 0; i < formArray.length; i++) {\r\n            returnArray[formArray[i][\"name\"]] = formArray[i][\"value\"];\r\n        }\r\n        return returnArray;\r\n    }\r\n\r\n    submit(event) {\r\n        event.preventDefault();\r\n        Util.postJson(\"/api/lessons/put\",\r\n            this.state.formModel,\r\n            data => {\r\n                const result = data as ActionResult;\r\n                if (result.succeeded) {\r\n                    this.state.formModel.reading = \"\";\r\n                    this.state.formModel.pronunciation = \"\";\r\n                    this.state.formModel.meaning = \"\";\r\n                    this.setState(this.state);\r\n                    $(\"#lessons-editor .focus-on-submit\").focus();\r\n                }\r\n            });\r\n    }\r\n\r\n    myRefs: { [key: string]: any } = {\r\n        readingField: null,\r\n        pronunciationField: null,\r\n        meaningField: null\r\n    }\r\n\r\n    changeHandlers = {\r\n        languageFrom: (e) => {\r\n            this.state.formModel.languageFromId = e.value;\r\n            this.setState(this.state);\r\n        },\r\n        languageTo: (e) => {\r\n            this.state.formModel.languageToId = e.value;\r\n            this.setState(this.state);\r\n        },\r\n        reading: (e) => {\r\n            this.state.formModel.reading = e.value;\r\n            this.setState(this.state);\r\n        },\r\n        pronunciation: (e) => {\r\n            this.state.formModel.pronunciation = e.value;\r\n            this.setState(this.state);\r\n        },\r\n        meaning: (e) => {\r\n            this.state.formModel.meaning = e.value;\r\n            this.setState(this.state);\r\n        }\r\n    }\r\n\r\n    form(): JSX.Element {\r\n        const intl = this.props.intl;\r\n        return (\r\n            <form id=\"lessons-editor-form\" action=\"#\">\r\n                    <input type=\"hidden\" name=\"id\" value={this.state.formModel.id}/>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-6 d-inline-flex\">\r\n                            <label><FormattedMessage id=\"from\" defaultMessage=\"From\"/></label>\r\n                            <Select className=\"country-select\" name=\"languageFrom\" value={this.state.formModel\r\n                            .languageFromId} onChange={this.changeHandlers.languageFrom} options={this.formatLangOptions(this.state.languagesFrom)}\r\n                                    openOnFocus={true} clearable={false}/>\r\n                        </div>\r\n                        <div className=\"col-sm-6 d-inline-flex\">\r\n                            <label><FormattedMessage id=\"to\" defaultMessage=\"To\"/></label>\r\n                            <Select className=\"country-select\" name=\"languageTo\" value={this.state.formModel.languageToId} onChange={this.changeHandlers.languageTo} options={this.formatLangOptions(this.state.languagesTo)}\r\n                                    clearable={false} openOnFocus={true}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row padding\">\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            <Select name=\"reading\" placeholder={I18n.format(intl, \"Reading\")} required={true} className=\"focus-on-submit reading\" autofocus={true}\r\n                                          value={this.state.formModel.reading} valueRenderer={value => this.renderPreview(value.label, \"reading\")} onChange={this.changeHandlers.reading}\r\n                                          onInputChange={value => this.loadAutocomplete(value, EditorField.Reading, this.state.readingOptions, (a) => this.setState({readingOptions: a}))}\r\n                                          arrowRenderer={(props) => <span></span>} onBlur={(e) => this.changeHandlers.reading(e.target)}\r\n                                          ignoreAccents={false} ignoreCase={false} ref={(a) => this.myRefs.readingField = a} options={this.state.readingOptions.options}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row padding\">\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            <Select name=\"pronunciation\" placeholder={I18n.format(intl, \"Pronunciation\")} className=\"pronunciation\"\r\n                                          value={this.state.formModel.pronunciation} onChange={this.changeHandlers\r\n                                          .pronunciation} valueRenderer={value => this.renderPreview(value.label, \"pronunciation\")}\r\n                                          onInputChange={value => this.loadAutocomplete(value, EditorField.Pronunciation, this.state.pronunciationOptions, (a) => this.setState({pronunciationOptions: a}))}\r\n                                          arrowRenderer={(props) => <span></span>} onBlur={(e) => this.changeHandlers.pronunciation(e.target)}\r\n                                          ignoreAccents={false} ignoreCase={false} ref={(a) => this.myRefs.pronunciationField = a} options={this.state.pronunciationOptions.options}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row padding\">\r\n                        <div className=\"col-sm-12 text-center\">\r\n                            <Select name=\"meaning\" placeholder={I18n.format(intl, \"Meaning\")} required={true} className=\"meaning\"\r\n                                          value={this.state.formModel.meaning} onChange={this.changeHandlers.meaning} valueRenderer={value => this.renderPreview(value.label, \"meaning\")}\r\n                                          onInputChange={value => this.loadAutocomplete(value, EditorField.Meaning, this.state.meaningOptions, (a) => this.setState({meaningOptions: a}))}\r\n                                          arrowRenderer={(props) => <span></span>} onBlur={(e) => this.changeHandlers.meaning(e.target)} options={this.state.meaningOptions.options}\r\n                                          ignoreAccents={false} ignoreCase={false} ref={(a) => this.myRefs.meaningField = a}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row button-row\">\r\n                        <div className=\"col-sm-6\">\r\n                            <button type=\"button\" className=\"btn btn-lg btn-primary\" onClick={this.submit}><FormattedMessage id=\"save\" defaultMessage=\"Save\"/></button>\r\n                        </div>\r\n                        <div className=\"col-sm-6 text-right\">\r\n                            <button type=\"cancel\" className=\"btn btn-lg btn-warning\" data-dismiss=\"modal\" data-target=\"#lessons-editor\"><FormattedMessage id=\"cancel\" defaultMessage=\"Cancel\"/></button>\r\n                        </div>\r\n                    </div>\r\n            </form>);\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return (\r\n            <div id=\"lessons-editor\" className=\"modal fade\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" data-target=\"#lessons-editor\">&times;</button>\r\n                            <h4 className=\"modal-title\">New Lesson</h4>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            {this.loading || this.form()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default injectIntl(LessonsEditor);\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Components/LessonsEditor.tsx","import * as React from \"react\";\r\nimport {FormattedMessage} from \"react-intl\";\r\n\r\nclass ErrorBox extends React.Component<undefined, undefined> {\r\n    render() {\r\n        return (\r\n            <div className=\"modal fade\" id=\"error-modal\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\"><FormattedMessage id=\"errorHeader\" defaultMessage=\"An Error occured\" /></h5>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button type=\"button\" className=\"btn primary\" data-dismiss=\"modal\" data-target=\"#error-modal\"><FormattedMessage id=\"errorConfirm\" defaultMessage=\"Close\" /></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ErrorBox;\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Components/ErrorBox.tsx","import * as React from \"react\";\r\nimport { ReviewModel, ActionResult } from \"../Models\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { Util } from \"../Util\";\r\n\r\nclass ReviewBoxState {\r\n    formModel: ReviewModel;\r\n    invalid: boolean = false;\r\n    errors: { [key: string]: string } = {};\r\n    type: \"lessons\" | \"reviews\" = \"reviews\";\r\n}\r\n\r\nclass ReviewBoxProps {\r\n    \r\n}\r\n\r\nexport class ReviewBox extends React.Component<ReviewBoxProps, ReviewBoxState> {\r\n    constructor() {\r\n        super();\r\n        this.state = new ReviewBoxState();\r\n\r\n        this.onOpened = this.onOpened.bind(this);\r\n        this.fetchNextReview = this.fetchNextReview.bind(this);\r\n        this.submitReview = this.submitReview.bind(this);\r\n        this.loading = this.loading.bind(this);\r\n        this.handleInput = this.handleInput.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        $(\"#review-box\").on(\"shown.bs.modal\", this.onOpened);\r\n    }\r\n\r\n    onOpened(event) {\r\n        var button = $(event.relatedTarget);\r\n        this.setState({ type: button.attr(\"data-type\") as \"lessons\" | \"reviews\" });\r\n        this.fetchNextReview();\r\n    }\r\n\r\n    fetchNextReview() {\r\n        this.setState({ formModel: null });\r\n        $.getJSON(`/api/${this.state.type}/next-review`, json => {\r\n            if (!json.result) {\r\n                $(\"#review-box\").modal(\"hide\");\r\n                return;\r\n            }\r\n\r\n            this.setState({ formModel: json.result });\r\n        });\r\n    }\r\n\r\n    submitReview(event) {\r\n        if (event.key != \"Enter\") return;\r\n        event.preventDefault();\r\n        if (this.state.invalid) {\r\n            this.fetchNextReview();\r\n            return;\r\n        }\r\n\r\n        $(\"#reviewInputOverlay\").show();\r\n        Util.postJson(`/api/${this.state.type}/submit-review`, this.state.formModel, (json: ActionResult) => {\r\n            if (json.succeeded)\r\n                this.fetchNextReview();\r\n            else {\r\n                $(\"#reviewInputOverlay\").hide();\r\n                this.setState({ invalid: true })\r\n            }\r\n        });\r\n    }\r\n\r\n    loading(): JSX.Element {\r\n        if (this.state.formModel) return null;\r\n        return (\r\n            <ReactLoading type=\"spinningBubbles\" color=\"#ccc\" delay={100} />\r\n        );\r\n    }\r\n\r\n    handleInput(e) {\r\n        this.state.formModel.to = e.target.value;\r\n        this.setState({ formModel: this.state.formModel });\r\n    }\r\n\r\n    content(): JSX.Element {\r\n        return (\r\n            <div className=\"review-form\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\" id=\"review-box-from\">\r\n                        <span id=\"review-from-text\">{this.state.formModel.from}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\" id=\"review-box-to\">\r\n                        <form>\r\n                            <div className=\"overlay-container\">\r\n                                <input type=\"text\" name=\"to\" value={this.state.formModel.to} onKeyPress={this.submitReview} onChange={this.handleInput} />\r\n                                <div className=\"overlay\" id=\"reviewInputOverlay\"><ReactLoading type=\"bubbles\" color=\"#ccc\" /></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"btn-group btn-group-justified\">\r\n                    <div className=\"btn-group\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\">Test1</button>\r\n                    </div>\r\n                    <div className=\"btn-group dropdown\">\r\n                        <button type=\"button\" className={`btn btn-secondary ${!this.state.invalid ? \"disabled\" : \"btn-info\"}`} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" id=\"solutionDropdownToggle\">\r\n                            <FormattedMessage id=\"solutionButton\" defaultMessage=\"Show Solution\" />\r\n                        </button>\r\n                        <div className=\"dropdown-menu\" aria-labelledby=\"solutionDropdownToggle\">\r\n                            <button type=\"button\">{ this.state.formModel.solution }</button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"btn-group\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\">Test1</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return (\r\n            <div id=\"review-box\" className=\"modal fade\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h4 className=\"modal-title\"><FormattedMessage id=\"reviewModalTitle\" defaultMessage=\"Review\" /></h4>\r\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" data-target=\"#review-box\">&times;</button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            { this.loading() || this.content() }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReviewBox;\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Components/ReviewBox.tsx","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./Content/main.scss\n// module id = 238\n// module chunks = 0","import * as Intl from \"react-intl\";\r\nimport * as $ from \"jquery\";\r\nimport InjectedIntl = Intl.InjectedIntl;\r\n\r\nclass I18n {\r\n    static getCurrentLocale(): string {\r\n        return \"en-US\";\r\n    }\r\n\r\n    static getStrings() {\r\n        const url = `/lang/${this.getCurrentLocale()}.json`;\r\n        return $.getJSON(url);\r\n    }\r\n\r\n    static init() {\r\n        \r\n    }\r\n\r\n    static format(intl: InjectedIntl, defaultMessage: string, key?: string, values?: object): string {\r\n        return intl.formatMessage({\r\n            id: key || defaultMessage.toLocaleLowerCase(),\r\n            defaultMessage: defaultMessage\r\n        });\r\n    }\r\n}\r\n\r\nexport default I18n;\n\n\n// WEBPACK FOOTER //\n// ./Scripts/LocaleLoader.ts","export enum ReviewField {\r\n    Reading,\r\n    Meaning,\r\n    Pronunciation\r\n}\r\n\r\nexport class AudioLocation {\r\n    relFileName: string = \"\";\r\n}\r\n\r\nexport class Language {\r\n    id: number = 0;\r\n    englishName: string = \"\";\r\n    nativeName: string = \"\";\r\n    englishCountryName: string = \"\";\r\n    nativeCountryName: string = \"\";\r\n    ietfTag: string = \"\";\r\n}\r\n\r\nexport class Lesson {\r\n    id: string = \"00000000-0000-0000-0000-000000000000\";\r\n    languageFrom = new Language();\r\n    languageTo = new Language();\r\n    audio: AudioLocation[] = [];\r\n    reading: string = \"\";\r\n    pronunciation: string = \"\";\r\n    meaning: string = \"\";\r\n}\r\n\r\nexport class LessonAssignment {\r\n    id: string = \"00000000-0000-0000-0000-000000000000\";\r\n    lesson = new Lesson();\r\n    stage: number = 0;\r\n    nextReview = new Date(0);\r\n}\r\n\r\nexport class LessonsEditorModel {\r\n    id: string = \"00000000-0000-0000-0000-000000000000\";\r\n    languageFromId: number = 0;\r\n    languageToId: number = 0;\r\n    reading: string = \"\";\r\n    pronunciation: string = \"\";\r\n    meaning: string = \"\";\r\n}\r\n\r\nexport class Review {\r\n    id: string = \"00000000-0000-0000-0000-000000000000\";\r\n    lesson: LessonAssignment = new LessonAssignment();\r\n    reviewDone: Date = new Date(0);\r\n    wrongAnswers: number = 0;\r\n    startStage: number = 0;\r\n    endStage: number = 0;\r\n}\r\n\r\nexport class User {\r\n    id: string = \"00000000-0000-0000-0000-000000000000\";\r\n    userName: string = \"\";\r\n    email: string = \"\";\r\n    signedUp = new Date(0);\r\n    lastLogin = new Date(0);\r\n    premiumUntil = new Date(0);\r\n    normalizedUserName: string = \"\";\r\n    normalizedEmail: string = \"\";\r\n    emailConfirmed: boolean = false;\r\n    phoneNumber: string = \"\";\r\n    phoneNumberConfirmed: boolean = false;\r\n}\r\n\r\nexport class LanguagePair {\r\n    constructor(languageFrom, languageTo) {\r\n        this.languageFrom = languageFrom;\r\n        this.languageTo = languageTo;\r\n    }\r\n    \r\n    languageFrom: Language;\r\n    languageTo: Language;\r\n\r\n    toString(): string {\r\n        return `${this.languageFrom.ietfTag}-${this.languageTo.ietfTag}`;\r\n    }\r\n}\r\n\r\nexport class ActionResult {\r\n    succeeded: boolean;\r\n    errors: string[];\r\n    errorCode: number;\r\n}\r\n\r\nexport class ReviewModel {\r\n    assignmentId: string = \"00000000-0000-0000-0000-000000000000\";\r\n    fieldFrom: ReviewField = ReviewField.Meaning;\r\n    fieldTo: ReviewField = ReviewField.Pronunciation;\r\n    from: string = \"\";\r\n    to: string = \"\";\r\n    solution: string = \"\";\r\n}\r\n\r\nexport class Theme {\r\n    backgroundPrimary: string;\r\n    backgroundSecondary: string;\r\n    backgroundTertiary: string;\r\n\r\n    borderPrimary: string;\r\n    borderSecondary: string;\r\n    borderTertiary: string;\r\n\r\n    textPrimary: string;\r\n    textSecondary: string;\r\n    textTertiary: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Models.ts","import * as $ from \"jquery\";\r\n\r\nexport class Util {\r\n    static postJson(url, body, success): JQuery.jqXHR<any> {\r\n        return $.ajax({\r\n            type: 'POST',\r\n            url: url,\r\n            data: JSON.stringify(body),\r\n            contentType: \"application/json\",\r\n            dataType: 'json',\r\n            success: success\r\n        });\r\n    }\r\n}\r\n\r\nexport default Util;\n\n\n// WEBPACK FOOTER //\n// ./Scripts/Util.ts"],"sourceRoot":""}